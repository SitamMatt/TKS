<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:metadata>
    <f:viewParam name="login" value="#{userEditController.login}"/>
    <f:event listener="#{userEditController.init}" type="preRenderView"/>
</f:metadata>
<f:view>
    <h:head>
        <title>Edit user</title>
    </h:head>
    <body>
    <h:outputLabel value="Editing user"/>
    <h:form rendered="#{not empty userEditController.newUser}">
        <h:inputHidden value="#{userEditController.login}"/>
        First name: <h:inputText value="#{userEditController.newUser.firstName}"/><br/>
        Last name: <h:inputText value="#{userEditController.newUser.lastName}"/><br/>
        <h:outputText value="Login:" rendered="#{userEditController.newUser.login == null}"/>
        <h:inputText value="#{userEditController.newUser.login}" rendered="#{userEditController.newUser.login == null}"/><br/>
        Password: <h:inputSecret value="#{userEditController.newUser.password}" redisplay="true"/><br/>
        Type:
        <h:selectOneMenu value="#{userEditController.newUser.typ}">
            <f:selectItems value="#{userEditController.newUser.possibleType}" />
        </h:selectOneMenu><br/>
        Active: <h:selectBooleanCheckbox  value="#{userEditController.newUser.active}"/><br/>
        <h:commandButton value="submit" action="#{userEditController.saveUser}" >
            <f:setPropertyActionListener target="#{userEditController.login}" value="#{userEditController.newUser.login}"/>
        </h:commandButton>
        <br/>
        <h:commandButton value="back" action="usersList"/><br/>
    </h:form>
    </body>
</f:view>
</html>
